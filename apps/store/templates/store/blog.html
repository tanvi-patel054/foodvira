{% extends 'store/base.html' %}
{% block title %}
Blog
{% endblock %}

{% block body %}
<section class="text-gray-600 body-font">
  <div class="container px-5 py-24 mx-auto">
    <div class="flex flex-col text-center w-full mb-20">
      <h1 class="text-2xl font-medium title-font mb-4 text-gray-900 tracking-widest">OUR BLOGS</h1>
      <p class="lg:w-2/3 mx-auto leading-relaxed text-base">Explore food stories, recipes, and tips crafted to inspire your taste buds.
  From fresh ingredients to flavorful dishes, discover the joy of good food.</p>
    </div>
   <div class="flex flex-wrap -m-4 justify-center">
  {% for blog in blogs %}
    <div class="p-4 md:w-1/3 w-full">
      <div class="h-full border-2 border-gray-200 border-opacity-60 rounded-lg overflow-hidden">

        <!-- Blog Image -->
        <img class="lg:h-48 md:h-36 w-full object-cover object-center" src="{{ blog.image.url }}" alt="{{ blog.title }}">

        <div class="p-6">
          <!-- Category -->
          <h2 class="tracking-widest text-xs title-font font-medium text-gray-400 mb-1">
            {{ blog.category.name }}
          </h2>

          <!-- Title -->
          <h1 class="title-font text-lg font-medium text-gray-900 mb-3">
            {{ blog.title }}
          </h1>

          <!-- Short Description (limit to 20 words) -->
          <p class="leading-relaxed mb-3">
            {{ blog.content|truncatewords:20 }}
          </p>

          <!-- Actions / Stats -->
          <div class="flex items-center flex-wrap">

            <!-- Learn More Button -->
            <a href="{% url 'blog_detail' blog_id=blog.id %}" class="text-green-500 inline-flex items-center md:mb-2 lg:mb-0">
              Read More
              <svg class="w-4 h-4 ml-2" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none"
                   stroke-linecap="round" stroke-linejoin="round">
                <path d="M5 12h14"></path>
                <path d="M12 5l7 7-7 7"></path>
              </svg>
            </a>

          </div>
        </div>
      </div>
    </div>
  {% empty %}
    <div class="w-full text-center py-16">
      <p class="text-gray-500 text-lg">No blogs available at the moment.</p>
    </div>
  {% endfor %}
</div>

{% if page_obj.paginator.num_pages > 1 %}
<div class="flex justify-center mt-12">
  <nav class="flex items-center gap-2 flex-wrap">

    <!-- Previous -->
    {% if page_obj.has_previous %}
    <a
      href="?page={{ page_obj.previous_page_number }}"
      class="px-4 py-2 border rounded-lg hover:bg-gray-100"
    >
      Previous
    </a>
    {% endif %}

    <!-- Page Numbers -->
    {% for num in page_obj.paginator.page_range %}
      {% if num == page_obj.number %}
        <span class="px-4 py-2 bg-green-600 text-white rounded-lg">
          {{ num }}
        </span>
      {% else %}
        <a
          href="?page={{ num }}"
          class="px-4 py-2 border rounded-lg hover:bg-gray-100"
        >
          {{ num }}
        </a>
      {% endif %}
    {% endfor %}

    <!-- Next -->
    {% if page_obj.has_next %}
    <a
      href="?page={{ page_obj.next_page_number }}"
      class="px-4 py-2 border rounded-lg hover:bg-gray-100"
    >
      Next
    </a>
    {% endif %}

  </nav>
</div>
{% endif %}


  </div>
</section>
{% endblock %}